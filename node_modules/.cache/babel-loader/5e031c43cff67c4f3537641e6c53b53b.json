{"ast":null,"code":"!function ($, wysi) {\n  \"use strict\";\n\n  var tpl = {\n    \"font-styles\": function (locale, options) {\n      var size = options && options.size ? ' btn-' + options.size : '';\n      return \"<li class='dropdown'>\" + \"<a class='btn dropdown-toggle\" + size + \"' data-toggle='dropdown' href='#'>\" + \"<i class='icon-font'></i>&nbsp;<span class='current-font'>\" + locale.font_styles.normal + \"</span>&nbsp;<b class='caret'></b>\" + \"</a>\" + \"<ul class='dropdown-menu'>\" + \"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='div' tabindex='-1'>\" + locale.font_styles.normal + \"</a></li>\" + \"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h1' tabindex='-1'>\" + locale.font_styles.h1 + \"</a></li>\" + \"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h2' tabindex='-1'>\" + locale.font_styles.h2 + \"</a></li>\" + \"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h3' tabindex='-1'>\" + locale.font_styles.h3 + \"</a></li>\" + \"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h4'>\" + locale.font_styles.h4 + \"</a></li>\" + \"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h5'>\" + locale.font_styles.h5 + \"</a></li>\" + \"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h6'>\" + locale.font_styles.h6 + \"</a></li>\" + \"</ul>\" + \"</li>\";\n    },\n    \"emphasis\": function (locale, options) {\n      var size = options && options.size ? ' btn-' + options.size : '';\n      return \"<li>\" + \"<div class='btn-group'>\" + \"<a class='btn\" + size + \"' data-wysihtml5-command='bold' title='CTRL+B' tabindex='-1'>\" + locale.emphasis.bold + \"</a>\" + \"<a class='btn\" + size + \"' data-wysihtml5-command='italic' title='CTRL+I' tabindex='-1'>\" + locale.emphasis.italic + \"</a>\" + \"<a class='btn\" + size + \"' data-wysihtml5-command='underline' title='CTRL+U' tabindex='-1'>\" + locale.emphasis.underline + \"</a>\" + \"</div>\" + \"</li>\";\n    },\n    \"lists\": function (locale, options) {\n      var size = options && options.size ? ' btn-' + options.size : '';\n      return \"<li>\" + \"<div class='btn-group'>\" + \"<a class='btn\" + size + \"' data-wysihtml5-command='insertUnorderedList' title='\" + locale.lists.unordered + \"' tabindex='-1'><i class='icon-list'></i></a>\" + \"<a class='btn\" + size + \"' data-wysihtml5-command='insertOrderedList' title='\" + locale.lists.ordered + \"' tabindex='-1'><i class='icon-th-list'></i></a>\" + \"<a class='btn\" + size + \"' data-wysihtml5-command='Outdent' title='\" + locale.lists.outdent + \"' tabindex='-1'><i class='icon-indent-right'></i></a>\" + \"<a class='btn\" + size + \"' data-wysihtml5-command='Indent' title='\" + locale.lists.indent + \"' tabindex='-1'><i class='icon-indent-left'></i></a>\" + \"</div>\" + \"</li>\";\n    },\n    \"link\": function (locale, options) {\n      var size = options && options.size ? ' btn-' + options.size : '';\n      return \"<li>\" + \"<div class='bootstrap-wysihtml5-insert-link-modal modal hide fade'>\" + \"<div class='modal-header'>\" + \"<a class='close' data-dismiss='modal'>&times;</a>\" + \"<h3>\" + locale.link.insert + \"</h3>\" + \"</div>\" + \"<div class='modal-body'>\" + \"<input value='http://' class='bootstrap-wysihtml5-insert-link-url input-xlarge'>\" + \"<label class='checkbox'> <input type='checkbox' class='bootstrap-wysihtml5-insert-link-target' checked>\" + locale.link.target + \"</label>\" + \"</div>\" + \"<div class='modal-footer'>\" + \"<a href='#' class='btn' data-dismiss='modal'>\" + locale.link.cancel + \"</a>\" + \"<a href='#' class='btn btn-primary' data-dismiss='modal'>\" + locale.link.insert + \"</a>\" + \"</div>\" + \"</div>\" + \"<a class='btn\" + size + \"' data-wysihtml5-command='createLink' title='\" + locale.link.insert + \"' tabindex='-1'><i class='icon-share'></i></a>\" + \"</li>\";\n    },\n    \"image\": function (locale, options) {\n      var size = options && options.size ? ' btn-' + options.size : '';\n      return \"<li>\" + \"<div class='bootstrap-wysihtml5-insert-image-modal modal hide fade'>\" + \"<div class='modal-header'>\" + \"<a class='close' data-dismiss='modal'>&times;</a>\" + \"<h3>\" + locale.image.insert + \"</h3>\" + \"</div>\" + \"<div class='modal-body'>\" + \"<input value='http://' class='bootstrap-wysihtml5-insert-image-url input-xlarge'>\" + \"</div>\" + \"<div class='modal-footer'>\" + \"<a href='#' class='btn' data-dismiss='modal'>\" + locale.image.cancel + \"</a>\" + \"<a href='#' class='btn btn-primary' data-dismiss='modal'>\" + locale.image.insert + \"</a>\" + \"</div>\" + \"</div>\" + \"<a class='btn\" + size + \"' data-wysihtml5-command='insertImage' title='\" + locale.image.insert + \"' tabindex='-1'><i class='icon-picture'></i></a>\" + \"</li>\";\n    },\n    \"html\": function (locale, options) {\n      var size = options && options.size ? ' btn-' + options.size : '';\n      return \"<li>\" + \"<div class='btn-group'>\" + \"<a class='btn\" + size + \"' data-wysihtml5-action='change_view' title='\" + locale.html.edit + \"' tabindex='-1'><i class='icon-pencil'></i></a>\" + \"</div>\" + \"</li>\";\n    },\n    \"color\": function (locale, options) {\n      var size = options && options.size ? ' btn-' + options.size : '';\n      return \"<li class='dropdown'>\" + \"<a class='btn dropdown-toggle\" + size + \"' data-toggle='dropdown' href='#' tabindex='-1'>\" + \"<span class='current-color'>\" + locale.colours.black + \"</span>&nbsp;<b class='caret'></b>\" + \"</a>\" + \"<ul class='dropdown-menu'>\" + \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='black'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='black'>\" + locale.colours.black + \"</a></li>\" + \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='silver'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='silver'>\" + locale.colours.silver + \"</a></li>\" + \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='gray'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='gray'>\" + locale.colours.gray + \"</a></li>\" + \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='maroon'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='maroon'>\" + locale.colours.maroon + \"</a></li>\" + \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='red'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='red'>\" + locale.colours.red + \"</a></li>\" + \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='purple'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='purple'>\" + locale.colours.purple + \"</a></li>\" + \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='green'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='green'>\" + locale.colours.green + \"</a></li>\" + \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='olive'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='olive'>\" + locale.colours.olive + \"</a></li>\" + \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='navy'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='navy'>\" + locale.colours.navy + \"</a></li>\" + \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='blue'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='blue'>\" + locale.colours.blue + \"</a></li>\" + \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='orange'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='orange'>\" + locale.colours.orange + \"</a></li>\" + \"</ul>\" + \"</li>\";\n    }\n  };\n\n  var templates = function (key, locale, options) {\n    return tpl[key](locale, options);\n  };\n\n  var Wysihtml5 = function (el, options) {\n    this.el = el;\n    var toolbarOpts = options || defaultOptions;\n\n    for (var t in toolbarOpts.customTemplates) {\n      tpl[t] = toolbarOpts.customTemplates[t];\n    }\n\n    this.toolbar = this.createToolbar(el, toolbarOpts);\n    this.editor = this.createEditor(options);\n    window.editor = this.editor;\n    $('iframe.wysihtml5-sandbox').each(function (i, el) {\n      $(el.contentWindow).off('focus.wysihtml5').on({\n        'focus.wysihtml5': function () {\n          $('li.dropdown').removeClass('open');\n        }\n      });\n    });\n  };\n\n  Wysihtml5.prototype = {\n    constructor: Wysihtml5,\n    createEditor: function (options) {\n      options = options || {}; // Add the toolbar to a clone of the options object so multiple instances\n      // of the WYISYWG don't break because \"toolbar\" is already defined\n\n      options = $.extend(true, {}, options);\n      options.toolbar = this.toolbar[0];\n      var editor = new wysi.Editor(this.el[0], options);\n\n      if (options && options.events) {\n        for (var eventName in options.events) {\n          editor.on(eventName, options.events[eventName]);\n        }\n      }\n\n      return editor;\n    },\n    createToolbar: function (el, options) {\n      var self = this;\n      var toolbar = $(\"<ul/>\", {\n        'class': \"wysihtml5-toolbar\",\n        'style': \"display:none\"\n      });\n      var culture = options.locale || defaultOptions.locale || \"en\";\n\n      for (var key in defaultOptions) {\n        var value = false;\n\n        if (options[key] !== undefined) {\n          if (options[key] === true) {\n            value = true;\n          }\n        } else {\n          value = defaultOptions[key];\n        }\n\n        if (value === true) {\n          toolbar.append(templates(key, locale[culture], options));\n\n          if (key === \"html\") {\n            this.initHtml(toolbar);\n          }\n\n          if (key === \"link\") {\n            this.initInsertLink(toolbar);\n          }\n\n          if (key === \"image\") {\n            this.initInsertImage(toolbar);\n          }\n        }\n      }\n\n      if (options.toolbar) {\n        for (key in options.toolbar) {\n          toolbar.append(options.toolbar[key]);\n        }\n      }\n\n      toolbar.find(\"a[data-wysihtml5-command='formatBlock']\").click(function (e) {\n        var target = e.target || e.srcElement;\n        var el = $(target);\n        self.toolbar.find('.current-font').text(el.html());\n      });\n      toolbar.find(\"a[data-wysihtml5-command='foreColor']\").click(function (e) {\n        var target = e.target || e.srcElement;\n        var el = $(target);\n        self.toolbar.find('.current-color').text(el.html());\n      });\n      this.el.before(toolbar);\n      return toolbar;\n    },\n    initHtml: function (toolbar) {\n      var changeViewSelector = \"a[data-wysihtml5-action='change_view']\";\n      toolbar.find(changeViewSelector).click(function (e) {\n        toolbar.find('a.btn').not(changeViewSelector).toggleClass('disabled');\n      });\n    },\n    initInsertImage: function (toolbar) {\n      var self = this;\n      var insertImageModal = toolbar.find('.bootstrap-wysihtml5-insert-image-modal');\n      var urlInput = insertImageModal.find('.bootstrap-wysihtml5-insert-image-url');\n      var insertButton = insertImageModal.find('a.btn-primary');\n      var initialValue = urlInput.val();\n      var caretBookmark;\n\n      var insertImage = function () {\n        var url = urlInput.val();\n        urlInput.val(initialValue);\n        self.editor.currentView.element.focus();\n\n        if (caretBookmark) {\n          self.editor.composer.selection.setBookmark(caretBookmark);\n          caretBookmark = null;\n        }\n\n        self.editor.composer.commands.exec(\"insertImage\", url);\n      };\n\n      urlInput.keypress(function (e) {\n        if (e.which == 13) {\n          insertImage();\n          insertImageModal.modal('hide');\n        }\n      });\n      insertButton.click(insertImage);\n      insertImageModal.on('shown', function () {\n        urlInput.focus();\n      });\n      insertImageModal.on('hide', function () {\n        self.editor.currentView.element.focus();\n      });\n      toolbar.find('a[data-wysihtml5-command=insertImage]').click(function () {\n        var activeButton = $(this).hasClass(\"wysihtml5-command-active\");\n\n        if (!activeButton) {\n          self.editor.currentView.element.focus(false);\n          caretBookmark = self.editor.composer.selection.getBookmark();\n          insertImageModal.appendTo('body').modal('show');\n          insertImageModal.on('click.dismiss.modal', '[data-dismiss=\"modal\"]', function (e) {\n            e.stopPropagation();\n          });\n          return false;\n        } else {\n          return true;\n        }\n      });\n    },\n    initInsertLink: function (toolbar) {\n      var self = this;\n      var insertLinkModal = toolbar.find('.bootstrap-wysihtml5-insert-link-modal');\n      var urlInput = insertLinkModal.find('.bootstrap-wysihtml5-insert-link-url');\n      var targetInput = insertLinkModal.find('.bootstrap-wysihtml5-insert-link-target');\n      var insertButton = insertLinkModal.find('a.btn-primary');\n      var initialValue = urlInput.val();\n      var caretBookmark;\n\n      var insertLink = function () {\n        var url = urlInput.val();\n        urlInput.val(initialValue);\n        self.editor.currentView.element.focus();\n\n        if (caretBookmark) {\n          self.editor.composer.selection.setBookmark(caretBookmark);\n          caretBookmark = null;\n        }\n\n        var newWindow = targetInput.prop(\"checked\");\n        self.editor.composer.commands.exec(\"createLink\", {\n          'href': url,\n          'target': newWindow ? '_blank' : '_self',\n          'rel': newWindow ? 'nofollow' : ''\n        });\n      };\n\n      var pressedEnter = false;\n      urlInput.keypress(function (e) {\n        if (e.which == 13) {\n          insertLink();\n          insertLinkModal.modal('hide');\n        }\n      });\n      insertButton.click(insertLink);\n      insertLinkModal.on('shown', function () {\n        urlInput.focus();\n      });\n      insertLinkModal.on('hide', function () {\n        self.editor.currentView.element.focus();\n      });\n      toolbar.find('a[data-wysihtml5-command=createLink]').click(function () {\n        var activeButton = $(this).hasClass(\"wysihtml5-command-active\");\n\n        if (!activeButton) {\n          self.editor.currentView.element.focus(false);\n          caretBookmark = self.editor.composer.selection.getBookmark();\n          insertLinkModal.appendTo('body').modal('show');\n          insertLinkModal.on('click.dismiss.modal', '[data-dismiss=\"modal\"]', function (e) {\n            e.stopPropagation();\n          });\n          return false;\n        } else {\n          return true;\n        }\n      });\n    }\n  }; // these define our public api\n\n  var methods = {\n    resetDefaults: function () {\n      $.fn.wysihtml5.defaultOptions = $.extend(true, {}, $.fn.wysihtml5.defaultOptionsCache);\n    },\n    bypassDefaults: function (options) {\n      return this.each(function () {\n        var $this = $(this);\n        $this.data('wysihtml5', new Wysihtml5($this, options));\n      });\n    },\n    shallowExtend: function (options) {\n      var settings = $.extend({}, $.fn.wysihtml5.defaultOptions, options || {}, $(this).data());\n      var that = this;\n      return methods.bypassDefaults.apply(that, [settings]);\n    },\n    deepExtend: function (options) {\n      var settings = $.extend(true, {}, $.fn.wysihtml5.defaultOptions, options || {});\n      var that = this;\n      return methods.bypassDefaults.apply(that, [settings]);\n    },\n    init: function (options) {\n      var that = this;\n      return methods.shallowExtend.apply(that, [options]);\n    }\n  };\n\n  $.fn.wysihtml5 = function (method) {\n    if (methods[method]) {\n      return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n    } else if (typeof method === 'object' || !method) {\n      return methods.init.apply(this, arguments);\n    } else {\n      $.error('Method ' + method + ' does not exist on jQuery.wysihtml5');\n    }\n  };\n\n  $.fn.wysihtml5.Constructor = Wysihtml5;\n  var defaultOptions = $.fn.wysihtml5.defaultOptions = {\n    \"font-styles\": true,\n    \"color\": false,\n    \"emphasis\": true,\n    \"lists\": true,\n    \"html\": false,\n    \"link\": true,\n    \"image\": true,\n    events: {},\n    parserRules: {\n      classes: {\n        // (path_to_project/lib/css/wysiwyg-color.css)\n        \"wysiwyg-color-silver\": 1,\n        \"wysiwyg-color-gray\": 1,\n        \"wysiwyg-color-white\": 1,\n        \"wysiwyg-color-maroon\": 1,\n        \"wysiwyg-color-red\": 1,\n        \"wysiwyg-color-purple\": 1,\n        \"wysiwyg-color-fuchsia\": 1,\n        \"wysiwyg-color-green\": 1,\n        \"wysiwyg-color-lime\": 1,\n        \"wysiwyg-color-olive\": 1,\n        \"wysiwyg-color-yellow\": 1,\n        \"wysiwyg-color-navy\": 1,\n        \"wysiwyg-color-blue\": 1,\n        \"wysiwyg-color-teal\": 1,\n        \"wysiwyg-color-aqua\": 1,\n        \"wysiwyg-color-orange\": 1\n      },\n      tags: {\n        \"b\": {},\n        \"i\": {},\n        \"br\": {},\n        \"ol\": {},\n        \"ul\": {},\n        \"li\": {},\n        \"h1\": {},\n        \"h2\": {},\n        \"h3\": {},\n        \"h4\": {},\n        \"h5\": {},\n        \"h6\": {},\n        \"blockquote\": {},\n        \"u\": 1,\n        \"img\": {\n          \"check_attributes\": {\n            \"width\": \"numbers\",\n            \"alt\": \"alt\",\n            \"src\": \"url\",\n            \"height\": \"numbers\"\n          }\n        },\n        \"a\": {\n          check_attributes: {\n            'href': \"url\",\n            // important to avoid XSS\n            'target': 'alt',\n            'rel': 'alt'\n          }\n        },\n        \"span\": 1,\n        \"div\": 1,\n        // to allow save and edit files with code tag hacks\n        \"code\": 1,\n        \"pre\": 1\n      }\n    },\n    stylesheets: [\"wysiwyg-color.css\"],\n    // (path_to_project/lib/css/wysiwyg-color.css)\n    locale: \"en\"\n  };\n\n  if (typeof $.fn.wysihtml5.defaultOptionsCache === 'undefined') {\n    $.fn.wysihtml5.defaultOptionsCache = $.extend(true, {}, $.fn.wysihtml5.defaultOptions);\n  }\n\n  var locale = $.fn.wysihtml5.locale = {\n    en: {\n      font_styles: {\n        normal: \"Normal text\",\n        h1: \"Heading 1\",\n        h2: \"Heading 2\",\n        h3: \"Heading 3\",\n        h4: \"Heading 4\",\n        h5: \"Heading 5\",\n        h6: \"Heading 6\"\n      },\n      emphasis: {\n        bold: \"Bold\",\n        italic: \"Italic\",\n        underline: \"Underline\"\n      },\n      lists: {\n        unordered: \"Unordered list\",\n        ordered: \"Ordered list\",\n        outdent: \"Outdent\",\n        indent: \"Indent\"\n      },\n      link: {\n        insert: \"Insert link\",\n        cancel: \"Cancel\",\n        target: \"Open link in new window\"\n      },\n      image: {\n        insert: \"Insert image\",\n        cancel: \"Cancel\"\n      },\n      html: {\n        edit: \"Edit HTML\"\n      },\n      colours: {\n        black: \"Black\",\n        silver: \"Silver\",\n        gray: \"Grey\",\n        maroon: \"Maroon\",\n        red: \"Red\",\n        purple: \"Purple\",\n        green: \"Green\",\n        olive: \"Olive\",\n        navy: \"Navy\",\n        blue: \"Blue\",\n        orange: \"Orange\"\n      }\n    }\n  };\n}(window.jQuery, window.wysihtml5);","map":{"version":3,"sources":["D:/Business Experts Pakistan/job-stock-safiya/src/Dependencies/js/bootstrap-wysihtml5.js"],"names":["$","wysi","tpl","locale","options","size","font_styles","normal","h1","h2","h3","h4","h5","h6","emphasis","bold","italic","underline","lists","unordered","ordered","outdent","indent","link","insert","target","cancel","image","html","edit","colours","black","silver","gray","maroon","red","purple","green","olive","navy","blue","orange","templates","key","Wysihtml5","el","toolbarOpts","defaultOptions","t","customTemplates","toolbar","createToolbar","editor","createEditor","window","each","i","contentWindow","off","on","removeClass","prototype","constructor","extend","Editor","events","eventName","self","culture","value","undefined","append","initHtml","initInsertLink","initInsertImage","find","click","e","srcElement","text","before","changeViewSelector","not","toggleClass","insertImageModal","urlInput","insertButton","initialValue","val","caretBookmark","insertImage","url","currentView","element","focus","composer","selection","setBookmark","commands","exec","keypress","which","modal","activeButton","hasClass","getBookmark","appendTo","stopPropagation","insertLinkModal","targetInput","insertLink","newWindow","prop","pressedEnter","methods","resetDefaults","fn","wysihtml5","defaultOptionsCache","bypassDefaults","$this","data","shallowExtend","settings","that","apply","deepExtend","init","method","Array","slice","call","arguments","error","Constructor","parserRules","classes","tags","check_attributes","stylesheets","en","jQuery"],"mappings":"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","sourcesContent":["!function($, wysi) {\n    \"use strict\";\n\n    var tpl = {\n        \"font-styles\": function(locale, options) {\n            var size = (options && options.size) ? ' btn-'+options.size : '';\n            return \"<li class='dropdown'>\" +\n              \"<a class='btn dropdown-toggle\" + size + \"' data-toggle='dropdown' href='#'>\" +\n              \"<i class='icon-font'></i>&nbsp;<span class='current-font'>\" + locale.font_styles.normal + \"</span>&nbsp;<b class='caret'></b>\" +\n              \"</a>\" +\n              \"<ul class='dropdown-menu'>\" +\n                \"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='div' tabindex='-1'>\" + locale.font_styles.normal + \"</a></li>\" +\n                \"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h1' tabindex='-1'>\" + locale.font_styles.h1 + \"</a></li>\" +\n                \"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h2' tabindex='-1'>\" + locale.font_styles.h2 + \"</a></li>\" +\n                \"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h3' tabindex='-1'>\" + locale.font_styles.h3 + \"</a></li>\" +\n                \"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h4'>\" + locale.font_styles.h4 + \"</a></li>\" +\n                \"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h5'>\" + locale.font_styles.h5 + \"</a></li>\" +\n                \"<li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h6'>\" + locale.font_styles.h6 + \"</a></li>\" +\n              \"</ul>\" +\n            \"</li>\";\n        },\n\n        \"emphasis\": function(locale, options) {\n            var size = (options && options.size) ? ' btn-'+options.size : '';\n            return \"<li>\" +\n              \"<div class='btn-group'>\" +\n                \"<a class='btn\" + size + \"' data-wysihtml5-command='bold' title='CTRL+B' tabindex='-1'>\" + locale.emphasis.bold + \"</a>\" +\n                \"<a class='btn\" + size + \"' data-wysihtml5-command='italic' title='CTRL+I' tabindex='-1'>\" + locale.emphasis.italic + \"</a>\" +\n                \"<a class='btn\" + size + \"' data-wysihtml5-command='underline' title='CTRL+U' tabindex='-1'>\" + locale.emphasis.underline + \"</a>\" +\n              \"</div>\" +\n            \"</li>\";\n        },\n\n        \"lists\": function(locale, options) {\n            var size = (options && options.size) ? ' btn-'+options.size : '';\n            return \"<li>\" +\n              \"<div class='btn-group'>\" +\n                \"<a class='btn\" + size + \"' data-wysihtml5-command='insertUnorderedList' title='\" + locale.lists.unordered + \"' tabindex='-1'><i class='icon-list'></i></a>\" +\n                \"<a class='btn\" + size + \"' data-wysihtml5-command='insertOrderedList' title='\" + locale.lists.ordered + \"' tabindex='-1'><i class='icon-th-list'></i></a>\" +\n                \"<a class='btn\" + size + \"' data-wysihtml5-command='Outdent' title='\" + locale.lists.outdent + \"' tabindex='-1'><i class='icon-indent-right'></i></a>\" +\n                \"<a class='btn\" + size + \"' data-wysihtml5-command='Indent' title='\" + locale.lists.indent + \"' tabindex='-1'><i class='icon-indent-left'></i></a>\" +\n              \"</div>\" +\n            \"</li>\";\n        },\n\n        \"link\": function(locale, options) {\n            var size = (options && options.size) ? ' btn-'+options.size : '';\n            return \"<li>\" +\n              \"<div class='bootstrap-wysihtml5-insert-link-modal modal hide fade'>\" +\n                \"<div class='modal-header'>\" +\n                  \"<a class='close' data-dismiss='modal'>&times;</a>\" +\n                  \"<h3>\" + locale.link.insert + \"</h3>\" +\n                \"</div>\" +\n                \"<div class='modal-body'>\" +\n                  \"<input value='http://' class='bootstrap-wysihtml5-insert-link-url input-xlarge'>\" +\n                  \"<label class='checkbox'> <input type='checkbox' class='bootstrap-wysihtml5-insert-link-target' checked>\" + locale.link.target + \"</label>\" +\n                \"</div>\" +\n                \"<div class='modal-footer'>\" +\n                  \"<a href='#' class='btn' data-dismiss='modal'>\" + locale.link.cancel + \"</a>\" +\n                  \"<a href='#' class='btn btn-primary' data-dismiss='modal'>\" + locale.link.insert + \"</a>\" +\n                \"</div>\" +\n              \"</div>\" +\n              \"<a class='btn\" + size + \"' data-wysihtml5-command='createLink' title='\" + locale.link.insert + \"' tabindex='-1'><i class='icon-share'></i></a>\" +\n            \"</li>\";\n        },\n\n        \"image\": function(locale, options) {\n            var size = (options && options.size) ? ' btn-'+options.size : '';\n            return \"<li>\" +\n              \"<div class='bootstrap-wysihtml5-insert-image-modal modal hide fade'>\" +\n                \"<div class='modal-header'>\" +\n                  \"<a class='close' data-dismiss='modal'>&times;</a>\" +\n                  \"<h3>\" + locale.image.insert + \"</h3>\" +\n                \"</div>\" +\n                \"<div class='modal-body'>\" +\n                  \"<input value='http://' class='bootstrap-wysihtml5-insert-image-url input-xlarge'>\" +\n                \"</div>\" +\n                \"<div class='modal-footer'>\" +\n                  \"<a href='#' class='btn' data-dismiss='modal'>\" + locale.image.cancel + \"</a>\" +\n                  \"<a href='#' class='btn btn-primary' data-dismiss='modal'>\" + locale.image.insert + \"</a>\" +\n                \"</div>\" +\n              \"</div>\" +\n              \"<a class='btn\" + size + \"' data-wysihtml5-command='insertImage' title='\" + locale.image.insert + \"' tabindex='-1'><i class='icon-picture'></i></a>\" +\n            \"</li>\";\n        },\n\n        \"html\": function(locale, options) {\n            var size = (options && options.size) ? ' btn-'+options.size : '';\n            return \"<li>\" +\n              \"<div class='btn-group'>\" +\n                \"<a class='btn\" + size + \"' data-wysihtml5-action='change_view' title='\" + locale.html.edit + \"' tabindex='-1'><i class='icon-pencil'></i></a>\" +\n              \"</div>\" +\n            \"</li>\";\n        },\n\n        \"color\": function(locale, options) {\n            var size = (options && options.size) ? ' btn-'+options.size : '';\n            return \"<li class='dropdown'>\" +\n              \"<a class='btn dropdown-toggle\" + size + \"' data-toggle='dropdown' href='#' tabindex='-1'>\" +\n                \"<span class='current-color'>\" + locale.colours.black + \"</span>&nbsp;<b class='caret'></b>\" +\n              \"</a>\" +\n              \"<ul class='dropdown-menu'>\" +\n                \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='black'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='black'>\" + locale.colours.black + \"</a></li>\" +\n                \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='silver'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='silver'>\" + locale.colours.silver + \"</a></li>\" +\n                \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='gray'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='gray'>\" + locale.colours.gray + \"</a></li>\" +\n                \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='maroon'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='maroon'>\" + locale.colours.maroon + \"</a></li>\" +\n                \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='red'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='red'>\" + locale.colours.red + \"</a></li>\" +\n                \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='purple'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='purple'>\" + locale.colours.purple + \"</a></li>\" +\n                \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='green'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='green'>\" + locale.colours.green + \"</a></li>\" +\n                \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='olive'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='olive'>\" + locale.colours.olive + \"</a></li>\" +\n                \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='navy'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='navy'>\" + locale.colours.navy + \"</a></li>\" +\n                \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='blue'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='blue'>\" + locale.colours.blue + \"</a></li>\" +\n                \"<li><div class='wysihtml5-colors' data-wysihtml5-command-value='orange'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='orange'>\" + locale.colours.orange + \"</a></li>\" +\n              \"</ul>\" +\n            \"</li>\";\n        }\n    };\n\n    var templates = function(key, locale, options) {\n        return tpl[key](locale, options);\n    };\n\n\n    var Wysihtml5 = function(el, options) {\n        this.el = el;\n        var toolbarOpts = options || defaultOptions;\n        for(var t in toolbarOpts.customTemplates) {\n          tpl[t] = toolbarOpts.customTemplates[t];\n        }\n        this.toolbar = this.createToolbar(el, toolbarOpts);\n        this.editor =  this.createEditor(options);\n\n        window.editor = this.editor;\n\n        $('iframe.wysihtml5-sandbox').each(function(i, el){\n            $(el.contentWindow).off('focus.wysihtml5').on({\n                'focus.wysihtml5' : function(){\n                    $('li.dropdown').removeClass('open');\n                }\n            });\n        });\n    };\n\n    Wysihtml5.prototype = {\n\n        constructor: Wysihtml5,\n\n        createEditor: function(options) {\n            options = options || {};\n            \n            // Add the toolbar to a clone of the options object so multiple instances\n            // of the WYISYWG don't break because \"toolbar\" is already defined\n            options = $.extend(true, {}, options);\n            options.toolbar = this.toolbar[0];\n\n            var editor = new wysi.Editor(this.el[0], options);\n\n            if(options && options.events) {\n                for(var eventName in options.events) {\n                    editor.on(eventName, options.events[eventName]);\n                }\n            }\n            return editor;\n        },\n\n        createToolbar: function(el, options) {\n            var self = this;\n            var toolbar = $(\"<ul/>\", {\n                'class' : \"wysihtml5-toolbar\",\n                'style': \"display:none\"\n            });\n            var culture = options.locale || defaultOptions.locale || \"en\";\n            for(var key in defaultOptions) {\n                var value = false;\n\n                if(options[key] !== undefined) {\n                    if(options[key] === true) {\n                        value = true;\n                    }\n                } else {\n                    value = defaultOptions[key];\n                }\n\n                if(value === true) {\n                    toolbar.append(templates(key, locale[culture], options));\n\n                    if(key === \"html\") {\n                        this.initHtml(toolbar);\n                    }\n\n                    if(key === \"link\") {\n                        this.initInsertLink(toolbar);\n                    }\n\n                    if(key === \"image\") {\n                        this.initInsertImage(toolbar);\n                    }\n                }\n            }\n\n            if(options.toolbar) {\n                for(key in options.toolbar) {\n                    toolbar.append(options.toolbar[key]);\n                }\n            }\n\n            toolbar.find(\"a[data-wysihtml5-command='formatBlock']\").click(function(e) {\n                var target = e.target || e.srcElement;\n                var el = $(target);\n                self.toolbar.find('.current-font').text(el.html());\n            });\n\n            toolbar.find(\"a[data-wysihtml5-command='foreColor']\").click(function(e) {\n                var target = e.target || e.srcElement;\n                var el = $(target);\n                self.toolbar.find('.current-color').text(el.html());\n            });\n\n            this.el.before(toolbar);\n\n            return toolbar;\n        },\n\n        initHtml: function(toolbar) {\n            var changeViewSelector = \"a[data-wysihtml5-action='change_view']\";\n            toolbar.find(changeViewSelector).click(function(e) {\n                toolbar.find('a.btn').not(changeViewSelector).toggleClass('disabled');\n            });\n        },\n\n        initInsertImage: function(toolbar) {\n            var self = this;\n            var insertImageModal = toolbar.find('.bootstrap-wysihtml5-insert-image-modal');\n            var urlInput = insertImageModal.find('.bootstrap-wysihtml5-insert-image-url');\n            var insertButton = insertImageModal.find('a.btn-primary');\n            var initialValue = urlInput.val();\n            var caretBookmark;\n\n            var insertImage = function() {\n                var url = urlInput.val();\n                urlInput.val(initialValue);\n                self.editor.currentView.element.focus();\n                if (caretBookmark) {\n                  self.editor.composer.selection.setBookmark(caretBookmark);\n                  caretBookmark = null;\n                }\n                self.editor.composer.commands.exec(\"insertImage\", url);\n            };\n\n            urlInput.keypress(function(e) {\n                if(e.which == 13) {\n                    insertImage();\n                    insertImageModal.modal('hide');\n                }\n            });\n\n            insertButton.click(insertImage);\n\n            insertImageModal.on('shown', function() {\n                urlInput.focus();\n            });\n\n            insertImageModal.on('hide', function() {\n                self.editor.currentView.element.focus();\n            });\n\n            toolbar.find('a[data-wysihtml5-command=insertImage]').click(function() {\n                var activeButton = $(this).hasClass(\"wysihtml5-command-active\");\n\n                if (!activeButton) {\n                    self.editor.currentView.element.focus(false);\n                    caretBookmark = self.editor.composer.selection.getBookmark();\n                    insertImageModal.appendTo('body').modal('show');\n                    insertImageModal.on('click.dismiss.modal', '[data-dismiss=\"modal\"]', function(e) {\n                        e.stopPropagation();\n                    });\n                    return false;\n                }\n                else {\n                    return true;\n                }\n            });\n        },\n\n        initInsertLink: function(toolbar) {\n            var self = this;\n            var insertLinkModal = toolbar.find('.bootstrap-wysihtml5-insert-link-modal');\n            var urlInput = insertLinkModal.find('.bootstrap-wysihtml5-insert-link-url');\n            var targetInput = insertLinkModal.find('.bootstrap-wysihtml5-insert-link-target');\n            var insertButton = insertLinkModal.find('a.btn-primary');\n            var initialValue = urlInput.val();\n            var caretBookmark;\n\n            var insertLink = function() {\n                var url = urlInput.val();\n                urlInput.val(initialValue);\n                self.editor.currentView.element.focus();\n                if (caretBookmark) {\n                  self.editor.composer.selection.setBookmark(caretBookmark);\n                  caretBookmark = null;\n                }\n\n                var newWindow = targetInput.prop(\"checked\");\n                self.editor.composer.commands.exec(\"createLink\", {\n                    'href' : url,\n                    'target' : (newWindow ? '_blank' : '_self'),\n                    'rel' : (newWindow ? 'nofollow' : '')\n                });\n            };\n            var pressedEnter = false;\n\n            urlInput.keypress(function(e) {\n                if(e.which == 13) {\n                    insertLink();\n                    insertLinkModal.modal('hide');\n                }\n            });\n\n            insertButton.click(insertLink);\n\n            insertLinkModal.on('shown', function() {\n                urlInput.focus();\n            });\n\n            insertLinkModal.on('hide', function() {\n                self.editor.currentView.element.focus();\n            });\n\n            toolbar.find('a[data-wysihtml5-command=createLink]').click(function() {\n                var activeButton = $(this).hasClass(\"wysihtml5-command-active\");\n\n                if (!activeButton) {\n                    self.editor.currentView.element.focus(false);\n                    caretBookmark = self.editor.composer.selection.getBookmark();\n                    insertLinkModal.appendTo('body').modal('show');\n                    insertLinkModal.on('click.dismiss.modal', '[data-dismiss=\"modal\"]', function(e) {\n                        e.stopPropagation();\n                    });\n                    return false;\n                }\n                else {\n                    return true;\n                }\n            });\n        }\n    };\n\n    // these define our public api\n    var methods = {\n        resetDefaults: function() {\n            $.fn.wysihtml5.defaultOptions = $.extend(true, {}, $.fn.wysihtml5.defaultOptionsCache);\n        },\n        bypassDefaults: function(options) {\n            return this.each(function () {\n                var $this = $(this);\n                $this.data('wysihtml5', new Wysihtml5($this, options));\n            });\n        },\n        shallowExtend: function (options) {\n            var settings = $.extend({}, $.fn.wysihtml5.defaultOptions, options || {}, $(this).data());\n            var that = this;\n            return methods.bypassDefaults.apply(that, [settings]);\n        },\n        deepExtend: function(options) {\n            var settings = $.extend(true, {}, $.fn.wysihtml5.defaultOptions, options || {});\n            var that = this;\n            return methods.bypassDefaults.apply(that, [settings]);\n        },\n        init: function(options) {\n            var that = this;\n            return methods.shallowExtend.apply(that, [options]);\n        }\n    };\n\n    $.fn.wysihtml5 = function ( method ) {\n        if ( methods[method] ) {\n            return methods[method].apply( this, Array.prototype.slice.call( arguments, 1 ));\n        } else if ( typeof method === 'object' || ! method ) {\n            return methods.init.apply( this, arguments );\n        } else {\n            $.error( 'Method ' +  method + ' does not exist on jQuery.wysihtml5' );\n        }    \n    };\n\n    $.fn.wysihtml5.Constructor = Wysihtml5;\n\n    var defaultOptions = $.fn.wysihtml5.defaultOptions = {\n        \"font-styles\": true,\n        \"color\": false,\n        \"emphasis\": true,\n        \"lists\": true,\n        \"html\": false,\n        \"link\": true,\n        \"image\": true,\n        events: {},\n        parserRules: {\n            classes: {\n                // (path_to_project/lib/css/wysiwyg-color.css)\n                \"wysiwyg-color-silver\" : 1,\n                \"wysiwyg-color-gray\" : 1,\n                \"wysiwyg-color-white\" : 1,\n                \"wysiwyg-color-maroon\" : 1,\n                \"wysiwyg-color-red\" : 1,\n                \"wysiwyg-color-purple\" : 1,\n                \"wysiwyg-color-fuchsia\" : 1,\n                \"wysiwyg-color-green\" : 1,\n                \"wysiwyg-color-lime\" : 1,\n                \"wysiwyg-color-olive\" : 1,\n                \"wysiwyg-color-yellow\" : 1,\n                \"wysiwyg-color-navy\" : 1,\n                \"wysiwyg-color-blue\" : 1,\n                \"wysiwyg-color-teal\" : 1,\n                \"wysiwyg-color-aqua\" : 1,\n                \"wysiwyg-color-orange\" : 1\n            },\n            tags: {\n                \"b\":  {},\n                \"i\":  {},\n                \"br\": {},\n                \"ol\": {},\n                \"ul\": {},\n                \"li\": {},\n                \"h1\": {},\n                \"h2\": {},\n                \"h3\": {},\n                \"h4\": {},\n                \"h5\": {},\n                \"h6\": {},\n                \"blockquote\": {},\n                \"u\": 1,\n                \"img\": {\n                    \"check_attributes\": {\n                        \"width\": \"numbers\",\n                        \"alt\": \"alt\",\n                        \"src\": \"url\",\n                        \"height\": \"numbers\"\n                    }\n                },\n                \"a\":  {\n                    check_attributes: {\n                        'href': \"url\", // important to avoid XSS\n                        'target': 'alt',\n                        'rel': 'alt'\n                    }\n                },\n                \"span\": 1,\n                \"div\": 1,\n                // to allow save and edit files with code tag hacks\n                \"code\": 1,\n                \"pre\": 1\n            }\n        },\n        stylesheets: [\"wysiwyg-color.css\"], // (path_to_project/lib/css/wysiwyg-color.css)\n        locale: \"en\"\n    };\n\n    if (typeof $.fn.wysihtml5.defaultOptionsCache === 'undefined') {\n        $.fn.wysihtml5.defaultOptionsCache = $.extend(true, {}, $.fn.wysihtml5.defaultOptions);\n    }\n\n    var locale = $.fn.wysihtml5.locale = {\n        en: {\n            font_styles: {\n                normal: \"Normal text\",\n                h1: \"Heading 1\",\n                h2: \"Heading 2\",\n                h3: \"Heading 3\",\n                h4: \"Heading 4\",\n                h5: \"Heading 5\",\n                h6: \"Heading 6\"\n            },\n            emphasis: {\n                bold: \"Bold\",\n                italic: \"Italic\",\n                underline: \"Underline\"\n            },\n            lists: {\n                unordered: \"Unordered list\",\n                ordered: \"Ordered list\",\n                outdent: \"Outdent\",\n                indent: \"Indent\"\n            },\n            link: {\n                insert: \"Insert link\",\n                cancel: \"Cancel\",\n                target: \"Open link in new window\"\n            },\n            image: {\n                insert: \"Insert image\",\n                cancel: \"Cancel\"\n            },\n            html: {\n                edit: \"Edit HTML\"\n            },\n            colours: {\n                black: \"Black\",\n                silver: \"Silver\",\n                gray: \"Grey\",\n                maroon: \"Maroon\",\n                red: \"Red\",\n                purple: \"Purple\",\n                green: \"Green\",\n                olive: \"Olive\",\n                navy: \"Navy\",\n                blue: \"Blue\",\n                orange: \"Orange\"\n            }\n        }\n    };\n\n}(window.jQuery, window.wysihtml5);\n"]},"metadata":{},"sourceType":"module"}